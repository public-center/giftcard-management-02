<div class="row">
  <div class="col-lg-12">
    <div class="ibox float-e-margins">
      <div class="ibox-content">
        <form method="get" class="form-horizontal">
          <!--Name-->
          <div class="form-group" cq-error="name"><label class="col-sm-2 control-label">Company name</label>
            <div class="col-sm-10"><input type="text" class="form-control" ng-model="editCompanyCtrl.displayData.company.name"></div>
          </div>
          <div class="hr-line-dashed"></div>
          <!--Address-->
          <div class="form-group" cq-error="address1"><label class="col-sm-2 control-label">Address 1</label>
            <div class="col-sm-10"><input type="text" class="form-control" ng-model="editCompanyCtrl.displayData.company.address1"></div>
          </div>
          <div class="form-group" cq-error="address2"><label class="col-sm-2 control-label">Address 2</label>
            <div class="col-sm-10"><input type="text" class="form-control" ng-model="editCompanyCtrl.displayData.company.address2"></div>
          </div>
          <div class="form-group" cq-error="city"><label class="col-sm-2 control-label">City</label>
            <div class="col-sm-10"><input type="text" class="form-control" ng-model="editCompanyCtrl.displayData.company.city"></div>
          </div>
          <div class="form-group" cq-error="state"><label class="col-sm-2 control-label">State</label>
            <div class="col-sm-10">
              <select class="select2_demo_3 form-control" ng-model="editCompanyCtrl.displayData.company.state">
                <option value="{{state.abbreviation}}" ng-repeat="state in editCompanyCtrl.states">{{state.name}}
                </option>
              </select>
            </div>
          </div>
          <div class="form-group" cq-error="zip"><label class="col-sm-2 control-label">Zip</label>
            <div class="col-sm-10"><input type="text" class="form-control"
                                          ng-model="editCompanyCtrl.displayData.company.zip" numbers-only zip-code>
            </div>
          </div>

          <div class="hr-line-dashed"></div>
          <div class="form-group" cq-error="margin"><label class="col-sm-2 control-label">Margin</label>
            <div class="col-sm-10"><input type="text" class="form-control" ng-model="editCompanyCtrl.displayData.company.settings.margin" numbers-only="decimal"></div>
          </div>
          <div class="form-group" cq-error="serviceFee"><label class="col-sm-2 control-label">Service Fee</label>
            <div class="col-sm-10"><input type="text" class="form-control" ng-model="editCompanyCtrl.displayData.company.settings.serviceFee" numbers-only="decimal"></div>
          </div>

          <div class="form-group">
            <label class="col-sm-2 control-label">Use alternate GCMGR</label>
            <div class="col-sm-10"><input type="checkbox" class="form-control" ng-model="editCompanyCtrl.displayData.company.settings.useAlternateGCMGR" style="width: auto;" /></div>
          </div>

          <div class="hr-line-dashed"></div>

          <!--Bookkeeping emails-->
          <div class="form-group" cq-error="serviceFee"><label class="col-sm-2 control-label">Bookkeeping Emails</label>
            <div class="col-sm-10"><input type="text" class="form-control" ng-model="editCompanyCtrl.displayData.company.bookkeepingEmails" placeholder="email1@email.com,email2@email.com,..."></div>
          </div>

          <div class="form-group">
            <div class="col-sm-4 col-sm-offset-2">
              <button class="btn btn-primary" type="submit" ng-click="editCompanyCtrl.update()">Save changes</button>
              <button class="btn btn-white" type="submit" ui-sref="main.admin.settings.companies.list">Cancel</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<!--Update response modals-->
<cq-modal modal-id="update-successful" submit-button="editCompanyCtrl.closeModal()"
          modal-title="Company successfully updated"></cq-modal>
<cq-modal modal-id="update-fail" submit-button="editCompanyCtrl.closeModal()"
          modal-title="Failed to update company">
  <div class="row" ng-if="editCompanyCtrl.updateError">
    <div class="col-md-12">
      {{editCompanyCtrl.updateError}}
    </div>
  </div>
</cq-modal>
