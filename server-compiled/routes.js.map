{"version":3,"sources":["routes.js"],"names":["errors","require","module","exports","app","use","static","setHeaders","url","res","req","setHeader","substring","length"],"mappings":"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","file":"routes.js","sourcesContent":["/**\n * Main application routes\n */\n\n'use strict';\n\nvar errors = require('./components/errors');\nimport express from 'express';\n\nmodule.exports = function(app) {\n  // Auth\n  app.use('/api/auth', require('./api/auth'));\n  // Users\n  app.use('/api/users', require('./api/user'));\n  // Callback log\n  app.use('/api/callbacks', require('./api/callbackLog'));\n  // Companies\n  app.use('/api/companies', require('./api/company'));\n  // Retailers\n  app.use('/api/retailers', require('./api/retailer'));\n  // Customers\n  app.use('/api/customers', require('./api/customer'));\n  // Card\n  app.use('/api/card', require('./api/card'));\n  // Sell rate\n  // app.use('/api/sellRate', require('./api/sellRte'));\n  // Store\n  app.use('/api/settings', require('./api/systemSettings'));\n  // Store\n  app.use('/api/stores', require('./api/stores'));\n  // Receipt\n  app.use('/api/receipt', require('./api/receipt'));\n  // Admin\n  app.use('/api/admin', require('./api/admin'));\n  // LQ\n  app.use('/api/lq', require('./api/lq'));\n  // Tango\n  app.use('/api/cardBuy', require('./api/tango'));\n  // Batches\n  app.use('/api/batches', require('./api/batch'));\n  // Download retailers csv\n  app.use('/api/retailerCsv', express.static('retailerCsv', {\n    setHeaders: res => {\n      const url = res.req.url;\n      res.setHeader('Access-Control-Allow-Headers', 'accept, authorization, content-type, x-requested-with, Range');\n      res.setHeader('Access-Control-Allow-Methods', 'GET,HEAD,PUT,PATCH,POST,DELETE');\n      res.setHeader('Access-Control-Allow-Origin', '*');\n      res.setHeader('Content-Type', 'text/csv');\n      res.setHeader('Content-Disposition', 'attachment; filename=' + url.substring(1, url.length - 1));\n    }\n  }));\n  // Download sales\n  app.use('/api/salesCsv', express.static('salesCsv', {\n    setHeaders: res => {\n      const url = res.req.url;\n      res.setHeader('Access-Control-Allow-Headers', 'accept, authorization, content-type, x-requested-with, Range');\n      res.setHeader('Access-Control-Allow-Methods', 'GET,HEAD,PUT,PATCH,POST,DELETE');\n      res.setHeader('Access-Control-Allow-Origin', '*');\n      res.setHeader('Content-Type', 'text/csv');\n      res.setHeader('Content-Disposition', 'attachment; filename=' + url.substring(1, url.length - 1));\n    }\n  }));\n  // Download bi info\n  app.use('/api/biInfoCsv', express.static('biInfoCsv', {\n    setHeaders: res => {\n      const url = res.req.url;\n      res.setHeader('Access-Control-Allow-Headers', 'accept, authorization, content-type, x-requested-with, Range');\n      res.setHeader('Access-Control-Allow-Methods', 'GET,HEAD,OPTIONS');\n      res.setHeader('Access-Control-Allow-Origin', '*');\n      res.setHeader('Content-Type', 'text/csv');\n      res.setHeader('Content-Disposition', 'attachment; filename=' + url.substring(1, url.length - 1));\n    }\n  }));\n\n  app.use('/api/test', require('./api/test'));\n};\n"],"sourceRoot":"/home/ubuntu14/works/webstromProjects/gcmgr/gulp/es6"}