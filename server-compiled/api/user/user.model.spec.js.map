{"version":3,"sources":["api/user/user.model.spec.js"],"names":["should","require","app","User","user","provider","name","email","password","describe","before","done","remove","exec","then","afterEach","it","find","err","users","have","length","save","userDup","exist","authenticate","be","true","not"],"mappings":"AAAA;;AAEA,IAAMA,SAASC,QAAQ,QAAR,CAAf;AACA,IAAMC,MAAMD,QAAQ,WAAR,CAAZ;AACA,IAAME,OAAOF,QAAQ,cAAR,CAAb;;AAEA,IAAMG,OAAO,IAAID,IAAJ,CAAS;AACpBE,YAAU,OADU;AAEpBC,QAAM,WAFc;AAGpBC,SAAO,eAHa;AAIpBC,YAAU;AAJU,CAAT,CAAb;;AAOAC,SAAS,YAAT,EAAuB,YAAW;AAChCC,SAAO,UAASC,IAAT,EAAe;AACpB;AACAR,SAAKS,MAAL,GAAcC,IAAd,GAAqBC,IAArB,CAA0B,YAAW;AACnCH;AACD,KAFD;AAGD,GALD;;AAOAI,YAAU,UAASJ,IAAT,EAAe;AACvBR,SAAKS,MAAL,GAAcC,IAAd,GAAqBC,IAArB,CAA0B,YAAW;AACnCH;AACD,KAFD;AAGD,GAJD;;AAMAK,KAAG,4BAAH,EAAiC,UAASL,IAAT,EAAe;AAC9CR,SAAKc,IAAL,CAAU,EAAV,EAAc,UAASC,GAAT,EAAcC,KAAd,EAAqB;AACjCA,YAAMnB,MAAN,CAAaoB,IAAb,CAAkBC,MAAlB,CAAyB,CAAzB;AACAV;AACD,KAHD;AAID,GALD;;AAOAK,KAAG,0CAAH,EAA+C,UAASL,IAAT,EAAe;AAC5DP,SAAKkB,IAAL,CAAU,YAAW;AACnB,UAAMC,UAAU,IAAIpB,IAAJ,CAASC,IAAT,CAAhB;AACAmB,cAAQD,IAAR,CAAa,UAASJ,GAAT,EAAc;AACzBlB,eAAOwB,KAAP,CAAaN,GAAb;AACAP;AACD,OAHD;AAID,KAND;AAOD,GARD;;AAUAK,KAAG,0CAAH,EAA+C,UAASL,IAAT,EAAe;AAC5DP,SAAKG,KAAL,GAAa,EAAb;AACAH,SAAKkB,IAAL,CAAU,UAASJ,GAAT,EAAc;AACtBlB,aAAOwB,KAAP,CAAaN,GAAb;AACAP;AACD,KAHD;AAID,GAND;;AAQAK,KAAG,+CAAH,EAAoD,YAAW;AAC7D,WAAOZ,KAAKqB,YAAL,CAAkB,UAAlB,EAA8BzB,MAA9B,CAAqC0B,EAArC,CAAwCC,IAA/C;AACD,GAFD;;AAIAX,KAAG,qDAAH,EAA0D,YAAW;AACnE,WAAOZ,KAAKqB,YAAL,CAAkB,MAAlB,EAA0BzB,MAA1B,CAAiC4B,GAAjC,CAAqCF,EAArC,CAAwCC,IAA/C;AACD,GAFD;AAGD,CA9CD","file":"api/user/user.model.spec.js","sourcesContent":["'use strict';\n\nconst should = require('should');\nconst app = require('../../app');\nconst User = require('./user.model');\n\nconst user = new User({\n  provider: 'local',\n  name: 'Fake User',\n  email: 'test@test.com',\n  password: 'password'\n});\n\ndescribe('User Model', function() {\n  before(function(done) {\n    // Clear users before testing\n    User.remove().exec().then(function() {\n      done();\n    });\n  });\n\n  afterEach(function(done) {\n    User.remove().exec().then(function() {\n      done();\n    });\n  });\n\n  it('should begin with no users', function(done) {\n    User.find({}, function(err, users) {\n      users.should.have.length(0);\n      done();\n    });\n  });\n\n  it('should fail when saving a duplicate user', function(done) {\n    user.save(function() {\n      const userDup = new User(user);\n      userDup.save(function(err) {\n        should.exist(err);\n        done();\n      });\n    });\n  });\n\n  it('should fail when saving without an email', function(done) {\n    user.email = '';\n    user.save(function(err) {\n      should.exist(err);\n      done();\n    });\n  });\n\n  it(\"should authenticate user if password is valid\", function() {\n    return user.authenticate('password').should.be.true;\n  });\n\n  it(\"should not authenticate user if password is invalid\", function() {\n    return user.authenticate('blah').should.not.be.true;\n  });\n});\n"],"sourceRoot":"/home/ubuntu14/works/webstromProjects/gcmgr/gulp/es6"}