{"version":3,"sources":["api/receipt/receipt.model.js"],"names":["mongoose","require","Promise","Schema","receiptSchema","created","type","Date","default","now","userTime","receiptId","String","rejectionTotal","Number","total","modifiedDenialAmount","appliedTowardsDenials","required","grandTotal","company","Types","ObjectId","ref","store","inventories","customer","user","ReceiptSchema","module","exports","model"],"mappings":"AAAA;;;;;;;AAKA;;;;;;AAHA,IAAMA,WAAWC,QAAQ,UAAR,CAAjB;AACAD,SAASE,OAAT,GAAmBD,QAAQ,UAAR,CAAnB;AACA,IAAME,SAASH,SAASG,MAAxB;;;AAGA;;;AAGO,IAAMC,wCAAgB;AAC3B;;;AAGAC,WAAS;AACPC,UAAMC,IADC;AAEPC,aAASD,KAAKE;AAFP,GAJkB;AAQ3B;;;AAGAC,YAAU;AACRJ,UAAMC;AADE,GAXiB;AAc3B;AACAI,aAAW;AACTL,UAAMM,MADG;AAETJ,aAAS;AAFA,GAfgB;AAmB3B;AACAK,kBAAgB,EAACP,MAAMQ,MAAP,EAAeN,SAAS,CAAxB,EApBW;AAqB3B;AACAO,SAAO,EAACT,MAAMQ,MAAP,EAAeN,SAAS,CAAxB,EAtBoB;AAuB3B;AACAQ,wBAAsBF,MAxBK;AAyB3B;AACAG,yBAAuB,EAACX,MAAMQ,MAAP,EAAeI,UAAU,IAAzB,EA1BI;AA2B3B;AACAC,cAAY,EAACb,MAAMQ,MAAP,EAAeI,UAAU,IAAzB,EA5Be;AA6B3B;AACAE,WAAS,EAACd,MAAMH,OAAOkB,KAAP,CAAaC,QAApB,EAA8BC,KAAK,SAAnC,EA9BkB;AA+B3BC,SAAO,EAAClB,MAAMH,OAAOkB,KAAP,CAAaC,QAApB,EAA8BC,KAAK,OAAnC,EA/BoB;AAgC3B;AACAE,eAAa,CAAC,EAACnB,MAAMH,OAAOkB,KAAP,CAAaC,QAApB,EAA8BC,KAAK,WAAnC,EAAD,CAjCc;AAkC3B;AACAG,YAAU,EAACpB,MAAMH,OAAOkB,KAAP,CAAaC,QAApB,EAA8BC,KAAK,UAAnC,EAnCiB;AAoC3B;AACAI,QAAM,EAACrB,MAAMH,OAAOkB,KAAP,CAAaC,QAApB,EAA8BC,KAAK,MAAnC;AArCqB,CAAtB;;AAwCP;AACA,IAAMK,gBAAgB,IAAIzB,MAAJ,CAAWC,aAAX,CAAtB;;AAEAyB,OAAOC,OAAP,GAAiB9B,SAAS+B,KAAT,CAAe,SAAf,EAA0BH,aAA1B,CAAjB","file":"api/receipt/receipt.model.js","sourcesContent":["'use strict';\n\nconst mongoose = require('mongoose');\nmongoose.Promise = require('bluebird');\nconst Schema = mongoose.Schema;\nimport uuid from 'node-uuid';\n\n/**\n * Receipt\n */\nexport const receiptSchema = {\n  /**\n   * Created\n   */\n  created: {\n    type: Date,\n    default: Date.now\n  },\n  /**\n   * User time when inventory created\n   */\n  userTime: {\n    type: Date\n  },\n  // Receipt ID\n  receiptId: {\n    type: String,\n    default: uuid()\n  },\n  // Denial amount BEFORE the current receipt generated\n  rejectionTotal: {type: Number, default: 0},\n  // Receipt total\n  total: {type: Number, default: 0},\n  // Modified denial subtraction amount (does not subtract full buy amount from customer denials total)\n  modifiedDenialAmount: Number,\n  // Amount applied towards denials\n  appliedTowardsDenials: {type: Number, required: true},\n  // Grand total\n  grandTotal: {type: Number, required: true},\n  // Company/store\n  company: {type: Schema.Types.ObjectId, ref: 'Company'},\n  store: {type: Schema.Types.ObjectId, ref: 'Store'},\n  // Inventories involved in this receipt\n  inventories: [{type: Schema.Types.ObjectId, ref: 'Inventory'}],\n  // Customer\n  customer: {type: Schema.Types.ObjectId, ref: 'Customer'},\n  // User creating record (cashier)\n  user: {type: Schema.Types.ObjectId, ref: 'User'}\n};\n\n// Schema\nconst ReceiptSchema = new Schema(receiptSchema);\n\nmodule.exports = mongoose.model('Receipt', ReceiptSchema);\n"],"sourceRoot":"/home/ubuntu14/works/webstromProjects/gcmgr/gulp/es6"}