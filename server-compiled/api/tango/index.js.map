{"version":3,"sources":["api/tango/index.js"],"names":["express","require","auth","controller","router","Router","post","authenticate","hasRole","createTangoPair","get","getRetailers","getRetailerCards","addCards","fund","getOrders","newOrder","getOrder","module","exports"],"mappings":"AAAA;;AAEA,IAAMA,UAAUC,QAAQ,SAAR,CAAhB;AACA,IAAMC,OAAOD,QAAQ,sBAAR,CAAb;AACA,IAAME,aAAaF,QAAQ,oBAAR,CAAnB;;AAEA,IAAMG,SAASJ,QAAQK,MAAR,EAAf;;AAEA;AACAD,OAAOE,IAAP,CAAY,QAAZ,EAAsBH,WAAWI,YAAjC;;AAEA;AACAH,OAAOE,IAAP,CAAY,oBAAZ,EAAkCJ,KAAKM,OAAL,CAAa,OAAb,CAAlC,EAAyDL,WAAWM,eAApE;;AAEA;AACAL,OAAOM,GAAP,CAAW,YAAX,EAAyBR,KAAKM,OAAL,CAAa,UAAb,CAAzB,EAAmDL,WAAWQ,YAA9D;AACA;AACAP,OAAOM,GAAP,CAAW,8BAAX,EAA2CR,KAAKM,OAAL,CAAa,UAAb,CAA3C,EAAqEL,WAAWS,gBAAhF;;AAEA;AACAR,OAAOE,IAAP,CAAY,6BAAZ,EAA2CJ,KAAKM,OAAL,CAAa,OAAb,CAA3C,EAAkEL,WAAWU,QAA7E;AACA;AACAT,OAAOE,IAAP,CAAY,4BAAZ,EAA0CJ,KAAKM,OAAL,CAAa,OAAb,CAA1C,EAAiEL,WAAWW,IAA5E;;AAEA;AACAV,OAAOM,GAAP,CAAW,SAAX,EAAsBR,KAAKM,OAAL,CAAa,UAAb,CAAtB,EAAgDL,WAAWY,SAA3D;AACA;AACAX,OAAOE,IAAP,CAAY,SAAZ,EAAuBJ,KAAKM,OAAL,CAAa,UAAb,CAAvB,EAAiDL,WAAWa,QAA5D;AACA;AACAZ,OAAOM,GAAP,CAAW,kBAAX,EAA+BR,KAAKM,OAAL,CAAa,UAAb,CAA/B,EAAyDL,WAAWc,QAApE;;AAEAC,OAAOC,OAAP,GAAiBf,MAAjB","file":"api/tango/index.js","sourcesContent":["'use strict';\n\nconst express = require('express');\nconst auth = require('../auth/auth.service');\nconst controller = require('./tango.controller');\n\nconst router = express.Router();\n\n// Authenticate\nrouter.post('/login', controller.authenticate);\n\n// Create tango customer and account\nrouter.post('/create/:companyId', auth.hasRole('admin'), controller.createTangoPair);\n\n// Get retailers\nrouter.get('/retailers', auth.hasRole('employee'), controller.getRetailers);\n// Get retailer's cards\nrouter.get('/retailers/:retailerId/cards', auth.hasRole('employee'), controller.getRetailerCards);\n\n// Add a credit card\nrouter.post('/companies/:companyId/cards', auth.hasRole('admin'), controller.addCards);\n// Fund an account\nrouter.post('/companies/:companyId/fund', auth.hasRole('admin'), controller.fund);\n\n// Get orders\nrouter.get('/orders', auth.hasRole('employee'), controller.getOrders);\n// Create a new order\nrouter.post('/orders', auth.hasRole('employee'), controller.newOrder);\n// Get an order by ID\nrouter.get('/orders/:orderId', auth.hasRole('employee'), controller.getOrder);\n\nmodule.exports = router;\n"],"sourceRoot":"/home/ubuntu14/works/webstromProjects/gcmgr/gulp/es6"}